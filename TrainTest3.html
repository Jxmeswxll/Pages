<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architectural Configurator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            cursor: none; /* Custom cursor implementation */
            background-color: #F2F2F2;
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }

        .font-display {
            font-family: 'Space Grotesk', sans-serif;
        }

        /* Custom Cursor */
        #cursor {
            pointer-events: none;
            mix-blend-mode: difference;
            z-index: 9999;
        }

        /* Brutalist shadows */
        .hard-shadow {
            box-shadow: 8px 8px 0px 0px rgba(0,0,0,1);
            transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
        }
        
        .hard-shadow:hover {
            transform: translate(-2px, -2px);
            box-shadow: 12px 12px 0px 0px #FF3300;
        }

        .hard-shadow:active {
            transform: translate(4px, 4px);
            box-shadow: 2px 2px 0px 0px #000000;
        }

        /* Hide scrollbar */
        ::-webkit-scrollbar { width: 0px; }

        .selection-card.active {
            border: 2px solid #000;
            background: #fff;
        }

        /* Loader Animation */
        .shutter-blind {
            position: absolute;
            top: 0;
            width: 100%;
            height: 20%;
            background: #000;
            transform: scaleY(0);
            transform-origin: top;
        }
    </style>
</head>
<body class="h-screen w-screen flex items-center justify-center text-black selection:bg-orange-500 selection:text-white">

    <!-- Custom Cursor -->
    <div id="cursor" class="fixed w-4 h-4 bg-white rounded-full flex items-center justify-center transition-transform duration-100 ease-out">
        <div class="w-1 h-1 bg-transparent"></div>
    </div>

    <!-- Noise Overlay for texture -->
    <div class="fixed inset-0 opacity-[0.03] pointer-events-none z-0" style="background-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.65%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22 opacity=%221%22/%3E%3C/svg%3E');"></div>

    <!-- Layout Container -->
    <main class="relative z-10 w-full max-w-6xl px-8 flex flex-col h-full justify-between py-12">
        
        <!-- Header -->
        <header class="flex justify-between items-start opacity-0" id="header">
            <div>
                <h1 class="font-display text-xl font-bold tracking-tighter uppercase">System / Architect_v1</h1>
                <p class="text-xs text-neutral-500 mt-1 font-mono">NO: 882-12 // SESSION: ACTIVE</p>
            </div>
            <div class="flex gap-4">
                <button class="p-2 hover:bg-black hover:text-white transition-colors rounded-full border border-neutral-300">
                    <i data-lucide="volume-2" class="w-4 h-4"></i>
                </button>
                <div class="h-8 w-[1px] bg-neutral-300"></div>
                <div class="text-right">
                    <p class="text-xs font-bold">STEP <span id="step-counter">01</span>/04</p>
                    <div class="w-24 h-1 bg-neutral-200 mt-2 overflow-hidden">
                        <div id="progress-bar" class="h-full bg-orange-600 w-[25%] transition-all duration-700 ease-in-out"></div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Dynamic Content Area -->
        <section id="content-area" class="flex-1 flex flex-col justify-center items-start relative min-h-[500px]">
            
            <!-- QUESTION 1: PURPOSE -->
            <div class="step-container absolute inset-0 flex flex-col justify-center" id="step-1">
                <h2 class="font-display text-6xl md:text-8xl font-medium leading-[0.9] tracking-tight mb-12 opacity-0 translate-y-10 split-text">
                    DEFINE THE<br><span class="text-neutral-400 italic">OBJECTIVE.</span>
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 w-full">
                    <!-- Option A -->
                    <button class="selection-card group relative h-64 bg-white border border-neutral-200 p-8 text-left hover:border-black transition-all duration-300 hard-shadow opacity-0 translate-y-10" onclick="nextStep('pure_gaming')">
                        <div class="absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity">
                            <i data-lucide="arrow-up-right" class="w-6 h-6"></i>
                        </div>
                        <div class="h-full flex flex-col justify-between">
                            <i data-lucide="gamepad-2" class="w-8 h-8 text-neutral-400 group-hover:text-orange-600 transition-colors"></i>
                            <div>
                                <span class="text-xs font-mono text-neutral-400 block mb-2">01</span>
                                <h3 class="font-display text-2xl font-bold leading-none group-hover:translate-x-2 transition-transform">Pure Performance</h3>
                            </div>
                        </div>
                    </button>

                    <!-- Option B -->
                    <button class="selection-card group relative h-64 bg-white border border-neutral-200 p-8 text-left hover:border-black transition-all duration-300 hard-shadow opacity-0 translate-y-10 delay-75" onclick="nextStep('hybrid')">
                        <div class="absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity">
                            <i data-lucide="arrow-up-right" class="w-6 h-6"></i>
                        </div>
                        <div class="h-full flex flex-col justify-between">
                            <i data-lucide="layers" class="w-8 h-8 text-neutral-400 group-hover:text-orange-600 transition-colors"></i>
                            <div>
                                <span class="text-xs font-mono text-neutral-400 block mb-2">02</span>
                                <h3 class="font-display text-2xl font-bold leading-none group-hover:translate-x-2 transition-transform">Hybrid Workflow</h3>
                            </div>
                        </div>
                    </button>

                    <!-- Option C -->
                    <button class="selection-card group relative h-64 bg-white border border-neutral-200 p-8 text-left hover:border-black transition-all duration-300 hard-shadow opacity-0 translate-y-10 delay-150" onclick="nextStep('creative')">
                        <div class="absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity">
                            <i data-lucide="arrow-up-right" class="w-6 h-6"></i>
                        </div>
                        <div class="h-full flex flex-col justify-between">
                            <i data-lucide="cpu" class="w-8 h-8 text-neutral-400 group-hover:text-orange-600 transition-colors"></i>
                            <div>
                                <span class="text-xs font-mono text-neutral-400 block mb-2">03</span>
                                <h3 class="font-display text-2xl font-bold leading-none group-hover:translate-x-2 transition-transform">Heavy Compute</h3>
                            </div>
                        </div>
                    </button>
                </div>
            </div>

            <!-- QUESTION 2: WORK SPECIFICS (Initially Hidden) -->
            <div class="step-container absolute inset-0 flex flex-col justify-center pointer-events-none opacity-0" id="step-2">
                <h2 class="font-display text-6xl md:text-8xl font-medium leading-[0.9] tracking-tight mb-12">
                    PRIMARY<br><span class="text-neutral-400 italic">WORKLOAD.</span>
                </h2>
                
                <div class="flex flex-col gap-4 w-full max-w-2xl">
                    <button class="group w-full bg-transparent border-b border-neutral-300 py-6 text-left hover:border-black hover:pl-4 transition-all duration-300 flex items-center justify-between" onclick="nextStep('video')">
                        <span class="font-display text-3xl">3D / Video Rendering</span>
                        <i data-lucide="box" class="opacity-0 group-hover:opacity-100 transition-opacity text-orange-600"></i>
                    </button>
                    <button class="group w-full bg-transparent border-b border-neutral-300 py-6 text-left hover:border-black hover:pl-4 transition-all duration-300 flex items-center justify-between" onclick="nextStep('code')">
                        <span class="font-display text-3xl">Compilation / Code</span>
                        <i data-lucide="terminal" class="opacity-0 group-hover:opacity-100 transition-opacity text-orange-600"></i>
                    </button>
                    <button class="group w-full bg-transparent border-b border-neutral-300 py-6 text-left hover:border-black hover:pl-4 transition-all duration-300 flex items-center justify-between" onclick="nextStep('stream')">
                        <span class="font-display text-3xl">Broadcasting / Streaming</span>
                        <i data-lucide="mic-2" class="opacity-0 group-hover:opacity-100 transition-opacity text-orange-600"></i>
                    </button>
                </div>
            </div>

             <!-- QUESTION 3: AESTHETIC (Initially Hidden) -->
             <div class="step-container absolute inset-0 flex flex-col justify-center pointer-events-none opacity-0" id="step-3">
                <h2 class="font-display text-6xl md:text-8xl font-medium leading-[0.9] tracking-tight mb-12">
                    VISUAL<br><span class="text-neutral-400 italic">PRESENCE.</span>
                </h2>
                
                <div class="grid grid-cols-2 w-full gap-0 border border-black">
                    <button class="h-80 hover:bg-black hover:text-white transition-colors duration-500 flex flex-col items-center justify-center border-r border-black group relative overflow-hidden" onclick="nextStep('stealth')">
                        <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] opacity-0 group-hover:opacity-20 bg-cover bg-center transition-opacity duration-700 grayscale"></div>
                        <span class="font-display text-4xl font-bold z-10">STEALTH</span>
                        <span class="font-mono text-xs mt-4 z-10 opacity-50">Audible silence. Visual void.</span>
                    </button>
                    <button class="h-80 hover:bg-black hover:text-white transition-colors duration-500 flex flex-col items-center justify-center group relative overflow-hidden" onclick="nextStep('showcase')">
                         <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1555680202-c86f0e12f086?q=80&w=2070&auto=format&fit=crop')] opacity-0 group-hover:opacity-20 bg-cover bg-center transition-opacity duration-700 grayscale"></div>
                        <span class="font-display text-4xl font-bold z-10">EXHIBITION</span>
                        <span class="font-mono text-xs mt-4 z-10 opacity-50">Internal geometry exposed.</span>
                    </button>
                </div>
            </div>

            <!-- RESULT: RECOMMENDATION (Initially Hidden) -->
            <div class="step-container absolute inset-0 flex flex-col items-center justify-center pointer-events-none opacity-0" id="step-4">
                <div class="w-full border-t border-black mb-8"></div>
                
                <div class="flex flex-col lg:flex-row gap-12 w-full">
                    <!-- The Machine -->
                    <div class="flex-1 bg-white p-8 hard-shadow border border-neutral-200 relative overflow-hidden group">
                         <div class="absolute top-0 right-0 bg-orange-600 text-white text-xs font-bold px-3 py-1">98% MATCH</div>
                         <div class="h-64 w-full bg-neutral-100 mb-8 flex items-center justify-center">
                            <!-- Placeholder for PC Image -->
                            <img src="https://images.unsplash.com/photo-1587202372775-e229f172b9d7?q=80&w=900&auto=format&fit=crop" class="h-full object-contain mix-blend-multiply grayscale contrast-125" alt="PC">
                         </div>
                         <h2 class="font-display text-4xl font-bold mb-2">THE MONOLITH PRO</h2>
                         <p class="font-mono text-sm text-neutral-500 mb-6">SPEC: RTX 4090 // i9-14900K // 64GB DDR5</p>
                         <ul class="space-y-2 text-sm mb-8 border-l-2 border-orange-600 pl-4">
                             <li><span class="font-bold">Optimized for:</span> 3D Rendering & 4K Gaming</li>
                             <li><span class="font-bold">Acoustics:</span> Sound-dampened chassis</li>
                             <li><span class="font-bold">Aesthetic:</span> Matte Black / Zero RGB</li>
                         </ul>
                         <button class="w-full bg-black text-white py-4 font-bold hover:bg-orange-600 transition-colors flex justify-between px-6 items-center group-hover:tracking-widest duration-300">
                             <span>CONFIGURE BUILD</span>
                             <i data-lucide="arrow-right"></i>
                         </button>
                    </div>

                    <!-- The Peripherals -->
                    <div class="w-full lg:w-1/3 flex flex-col gap-6">
                        <h3 class="font-mono text-xs uppercase tracking-widest text-neutral-500">Essential Pairings</h3>
                        
                        <div class="bg-white p-6 border border-neutral-200 flex items-center gap-4 hover:border-black transition-colors">
                            <div class="w-16 h-16 bg-neutral-100 flex items-center justify-center">
                                <i data-lucide="monitor" class="w-8 h-8"></i>
                            </div>
                            <div>
                                <h4 class="font-bold font-display">OLED 42" Cinema</h4>
                                <p class="text-xs text-neutral-500">Color Critical Accuracy</p>
                            </div>
                        </div>

                        <div class="bg-white p-6 border border-neutral-200 flex items-center gap-4 hover:border-black transition-colors">
                            <div class="w-16 h-16 bg-neutral-100 flex items-center justify-center">
                                <i data-lucide="keyboard" class="w-8 h-8"></i>
                            </div>
                            <div>
                                <h4 class="font-bold font-display">HHKB Professional</h4>
                                <p class="text-xs text-neutral-500">Topre Switches</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <!-- Footer -->
        <footer class="mt-12 flex justify-between w-full text-xs font-mono uppercase text-neutral-400 opacity-0" id="footer">
            <span>(c) 2024 Luxury Systems</span>
            <span>Architecture: V 1.0.4</span>
        </footer>

        <!-- Transition Shutters -->
        <div class="shutter-blind" style="top: 0%;"></div>
        <div class="shutter-blind" style="top: 20%;"></div>
        <div class="shutter-blind" style="top: 40%;"></div>
        <div class="shutter-blind" style="top: 60%;"></div>
        <div class="shutter-blind" style="top: 80%;"></div>

    </main>

    <script>
        // --- Audio Engine (Procedural) ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            const now = audioCtx.currentTime;
            
            if (type === 'hover') {
                osc.type = 'sine';
                osc.frequency.setValueAtTime(200, now);
                osc.frequency.exponentialRampToValueAtTime(300, now + 0.05);
                gainNode.gain.setValueAtTime(0.05, now);
                gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.05);
                osc.start(now);
                osc.stop(now + 0.05);
            } else if (type === 'click') {
                osc.type = 'square';
                osc.frequency.setValueAtTime(100, now);
                osc.frequency.exponentialRampToValueAtTime(50, now + 0.1);
                gainNode.gain.setValueAtTime(0.1, now);
                gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.15);
                osc.start(now);
                osc.stop(now + 0.15);
            } else if (type === 'transition') {
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(50, now);
                osc.frequency.linearRampToValueAtTime(800, now + 0.3);
                gainNode.gain.setValueAtTime(0.05, now);
                gainNode.gain.linearRampToValueAtTime(0, now + 0.3);
                osc.start(now);
                osc.stop(now + 0.3);
            }
        }

        // --- Logic & State ---
        let currentStep = 1;
        const totalSteps = 4;

        // Initialize Lucide icons
        lucide.createIcons();

        // GSAP Animations Setup
        const timeline = gsap.timeline();

        // Initial Load Animation
        window.onload = () => {
            timeline.to("#header, #footer", { opacity: 1, duration: 1 })
                    .to("#step-1 h2", { opacity: 1, y: 0, duration: 0.8, ease: "power3.out" }, "-=0.5")
                    .to(".selection-card", { opacity: 1, y: 0, stagger: 0.1, duration: 0.6, ease: "back.out(1.7)" }, "-=0.4");
        };

        // Step Logic
        function nextStep(value) {
            playSound('click');
            
            // 1. Animate Out current step
            const currentEl = document.getElementById(`step-${currentStep}`);
            gsap.to(currentEl, {
                opacity: 0,
                y: -50,
                duration: 0.5,
                ease: "power2.in",
                onComplete: () => {
                    currentEl.style.pointerEvents = "none";
                    
                    // 2. Run Shutter Transition Effect
                    triggerShutter();
                    playSound('transition');

                    // 3. Setup Next Step
                    currentStep++;
                    updateHeader();

                    setTimeout(() => {
                        const nextEl = document.getElementById(`step-${currentStep}`);
                        nextEl.style.pointerEvents = "auto";
                        
                        // Animate In next step elements
                        gsap.fromTo(nextEl, 
                            { opacity: 0, y: 50 },
                            { opacity: 1, y: 0, duration: 0.8, ease: "power3.out" }
                        );

                        // Specific animation for children elements if needed
                        if(currentStep === 4) {
                            gsap.fromTo("#step-4 .hard-shadow", 
                                { scale: 0.9, opacity: 0 },
                                { scale: 1, opacity: 1, duration: 1, ease: "elastic.out(1, 0.75)", delay: 0.2 }
                            );
                        }

                    }, 400); // Wait for shutter close
                }
            });
        }

        function triggerShutter() {
            const blinds = document.querySelectorAll('.shutter-blind');
            gsap.to(blinds, {
                scaleY: 1,
                duration: 0.3,
                stagger: 0.05,
                ease: "power2.inOut",
                yoyo: true,
                repeat: 1
            });
        }

        function updateHeader() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('step-counter').innerText = `0${currentStep}`;
        }

        // --- Custom Cursor Logic ---
        const cursor = document.getElementById('cursor');
        
        document.addEventListener('mousemove', (e) => {
            gsap.to(cursor, {
                x: e.clientX - 8,
                y: e.clientY - 8,
                duration: 0.1,
                ease: "power2.out"
            });
        });

        // Add hover effects to interactive elements
        const interactives = document.querySelectorAll('button, a');
        interactives.forEach(el => {
            el.addEventListener('mouseenter', () => {
                playSound('hover');
                gsap.to(cursor, { scale: 3, duration: 0.2 });
            });
            el.addEventListener('mouseleave', () => {
                gsap.to(cursor, { scale: 1, duration: 0.2 });
            });
        });

    </script>
</body>
</html>