<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlockTech PCs - Build Your Rig!</title>
    <style>
        @font-face {
            font-family: 'Minecraft';
            src: url('https://cdnjs.cloudflare.com/ajax/libs/font-minecraft/1.0.0/minecraft.woff2') format('woff2'); /* Host locally for reliability */
            font-weight: normal;
            font-style: normal;
        }

        :root {
            --mc-bg: #C6C6C6;
            --mc-bg-dark: #8B8B8B;
            --mc-border-light: #FFFFFF;
            --mc-border-dark: #5B5B5B;
            --mc-border-inset-dark: #373737;
            --mc-text: #404040;
            --mc-text-light: #FFFFFF;
            --mc-tooltip-bg: #100010; /* Dark purple tooltip bg */
            --mc-tooltip-border: #5000FF; /* Purple tooltip border */
            --mc-item-name: #55FFFF; /* Cyan */
            --mc-item-spec: #AAAAAA; /* Gray */
            --mc-item-price: #FFFF55; /* Yellow */
            --mc-item-ench: #FF55FF; /* Magenta (for special features) */
            --mc-pixelated: pixelated; /* or -moz-crisp-edges, -webkit-optimize-contrast */

            --grass-height: 64px; /* Height of the grass texture strip */
        }

        html {
            box-sizing: border-box;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Minecraft', 'Courier New', monospace;
            /* Dirt Texture Background */
            background-color: #8A6545; /* Dirt color fallback */
            /* Base64 encoded 16x16 seamless dirt texture */
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABGSURBVDhPY2RgYDjAwAgYBDAZAQMDFQMuAfMPgIyMjIzMLAwMzEzMDAxMzAAhBgYGBkbmAwA0MDT+FwwCQQaGAIQMDAwMDEz8gAADNwAAg3N/d9c4228AAAAASUVORK5CYII=');
            background-size: 32px 32px; /* Render textures larger */
            background-repeat: repeat;
            image-rendering: var(--mc-pixelated);
            color: var(--mc-text-light);
            overflow-x: hidden;
            /* Add padding at the top to prevent content from going under the grass header */
            padding-top: var(--grass-height);
        }

        #grass-header {
            position: fixed; /* Or absolute if body isn't scrolling strangely */
            top: 0;
            left: 0;
            width: 100%;
            height: var(--grass-height);
            /* Base64 encoded 16x16 seamless grass top texture */
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABJSURBVDhPY2RgYDjAwAgYBMODEgImBkb+Z2ICLIqhoWGQAUiYGRhAwiANzEzMzAxczMwA4SAaBgYGhh9QQBIDQ8P//38QUQLJGAQAlLg5s5jdsvQAAAAASUVORK5CYII=');
            background-color: #59A632; /* Grass color fallback */
            background-size: 32px 32px;
            background-repeat: repeat-x;
            image-rendering: var(--mc-pixelated);
            z-index: -1; /* Behind other content but above body background */
            border-bottom: 4px solid #5F3A1F; /* Darker line simulating where grass meets dirt */
        }

        .container {
            max-width: 1000px;
            margin: 20px auto; /* Adjusted margin top */
            padding: 20px;
            position: relative; /* Needed for stacking context if elements overlap header */
            z-index: 1;
        }

        .site-title {
            font-size: 36px;
            color: var(--mc-text-light);
            text-shadow: 2px 2px #3B271A; /* Dark shadow like in-game title */
            text-align: center;
            margin-bottom: 30px;
            letter-spacing: 1px;
            position: relative; /* Ensure title is above grass if needed */
        }

        /* Minecraft GUI Style Background/Border */
        .mc-panel {
            background-color: var(--mc-bg);
            border: 2px solid;
            border-color: var(--mc-border-dark) var(--mc-border-light) var(--mc-border-light) var(--mc-border-dark);
            box-shadow: inset 2px 2px 0px rgba(255, 255, 255, 0.5), inset -2px -2px 0px rgba(0, 0, 0, 0.25);
            padding: 8px;
        }

        .inventory-container {
            display: flex;
            flex-wrap: wrap; /* Allow wrap on smaller screens */
            gap: 0; /* No gap, borders handle separation */
            max-width: 920px; /* Adjusted for typical inventory width */
            margin: 0 auto; /* Centered */
            border: 2px solid;
            border-color: var(--mc-border-dark) var(--mc-border-light) var(--mc-border-light) var(--mc-border-dark);
            background-color: var(--mc-bg); /* Overall container background */
        }

        /* Left panel - Navigation/Filtering */
        .inventory-sidebar {
            width: 200px; /* Fixed width sidebar */
            background-color: var(--mc-bg-dark); /* Slightly darker background */
            border-right: 2px solid var(--mc-border-inset-dark); /* Inner border */
            padding: 8px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        .search-bar {
            display: flex;
            align-items: center;
            background-color: var(--mc-bg-dark);
            border: 1px solid var(--mc-border-inset-dark);
            box-shadow: inset 1px 1px 0px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
            padding: 4px;
        }

        .search-icon {
            width: 16px; height: 16px;
            margin-right: 5px;
            background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADISURBVDhPtY5BCsIwEATR91B7B+kNepfCU3gNXsTdi+LSBn/SkQSFTchDQ3xzD7EDD2w2m5s+jw/cGAsG+C9iLhGjH0e8Jv1A/Gvz2L2iL2wPQLyvvS54+TkQCcACkFzrWw90/N0EaM5H+b7nx/I2AN7nO10j+AIArNvrAMAR0LweCR6GcgBo/v1w9B5A1/N8E1YAnAEAfN9sB8B3QRwAYhXAMQLAOlEAMALAWoIBYARAFQEAEQDWERcAFQEAC+gB/4AAuA3/jG1m1kSEAAAAAElFTkSuQmCC') center center no-repeat;
            background-size: contain;
            image-rendering: var(--mc-pixelated);
        }

        .search-input {
            flex-grow: 1;
            background-color: #373737; /* Dark input bg */
            border: none;
            color: #AAAAAA;
            font-family: 'Minecraft', monospace;
            padding: 2px;
            font-size: 12px;
            outline: none;
        }

        /* Tabs in sidebar */
        .inventory-tabs {
            display: flex;
            flex-direction: column;
            gap: 2px; /* Gap between tabs */
            margin-top: 10px;
        }

        .inventory-tab {
            display: flex;
            align-items: center;
            background-color: var(--mc-bg-dark);
            border: 2px solid;
            border-color: var(--mc-border-light) var(--mc-border-dark) var(--mc-border-dark) var(--mc-border-light);
            padding: 6px;
            cursor: pointer;
            color: var(--mc-text-light);
            text-shadow: 1px 1px #373737;
            font-size: 12px; /* Smaller tab text */
            transition: background-color 0.1s ease;
            position: relative; /* For ::before pseudo-element */
        }

        .inventory-tab:hover {
            background-color: #A0A0A0; /* Slightly lighter gray on hover */
        }

        .inventory-tab.active {
            background-color: var(--mc-bg); /* Active tab uses main panel color */
            border-color: var(--mc-border-dark) var(--mc-border-light) var(--mc-border-light) var(--mc-border-dark); /* Inset look */
            box-shadow: inset 2px 2px 0px rgba(0, 0, 0, 0.25), inset -2px -2px 0px rgba(255, 255, 255, 0.5);
            color: var(--mc-text);
            text-shadow: 1px 1px #FFFFFF;
            z-index: 1; /* Bring active tab slightly forward */
        }
        .inventory-tab.active::before { /* Triangle marker like creative tabs */
           content: '';
           position: absolute;
           left: -8px; /* Adjust position */
           top: 50%;
           transform: translateY(-50%);
           width: 0;
           height: 0;
           border-top: 6px solid transparent;
           border-bottom: 6px solid transparent;
           border-right: 6px solid var(--mc-bg); /* Matches active tab background */
        }

        .tab-icon {
            width: 24px; height: 24px;
            margin-right: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px; /* Adjust icon size if needed */
            image-rendering: var(--mc-pixelated);
        }
        .tab-icon img { max-width: 100%; max-height: 100%; image-rendering: var(--mc-pixelated); }

        /* Main inventory area (now just holds the grid) */
        .main-inventory {
            flex-grow: 1; /* Take remaining width */
            display: flex;
            flex-direction: column;
            min-width: 0; /* Prevent overflow issues with flex */
        }

        .inventory-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 4px 8px;
            background-color: var(--mc-bg); /* Match panel background */
            border-bottom: 2px solid var(--mc-border-dark);
            /* border-left: 2px solid var(--mc-border-dark); */ /* Removed border with sidebar */
            /* margin-left: -2px; */ /* No longer needed */
        }

        .inventory-title {
            font-size: 14px;
            color: var(--mc-text);
            font-weight: normal;
        }

        /* PC products grid area */
        .pc-grid-area {
            flex-grow: 1;
            padding: 10px; /* Increased padding */
            overflow-y: auto; /* Allow scrolling if many items */
            background-color: var(--mc-bg); /* Match panel color */
            min-height: 350px; /* Ensure decent height for grid */
        }

        .pc-grid {
            display: grid;
            /* Adjust columns based on available space, aiming for ~54px slots */
            grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            gap: 8px; /* Increased spacing between slots */
        }

        /* Inventory Slot Style */
        .inventory-slot {
            width: 48px; height: 48px; /* Slightly larger slots */
            background-color: var(--mc-bg-dark); /* Darker slot background */
            border: 1px solid var(--mc-border-inset-dark);
            box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            position: relative;
            overflow: hidden; /* Hide overflow from potential large icons */
            transition: background-color 0.1s ease;
        }

        .inventory-slot:hover { /* Combined hover effect with ::after */
            background-color: #A8A8A8; /* Slightly lighter bg on hover */
        }
        .inventory-slot:hover::after { /* Subtle hover highlight */
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Item contents */
        .inventory-slot img {
            max-width: 36px; max-height: 36px; /* Icon size within slot */
            image-rendering: var(--mc-pixelated);
        }

        .item-price-tag { /* Changed from item-count to price tag */
            position: absolute;
            bottom: 1px;
            right: 2px;
            font-size: 10px;
            color: var(--mc-item-price); /* Use yellow for price */
            text-shadow: 1px 1px 0 #000000;
            background: rgba(0,0,0,0.4); /* Slight dark background for readability */
            padding: 0 2px;
        }

        /* Player hotbar - repurposed for navigation */
        .site-navigation {
            display: flex;
            justify-content: center;
            gap: 4px;
            margin-top: 20px;
            border: 2px solid;
            border-color: var(--mc-border-dark) var(--mc-border-light) var(--mc-border-light) var(--mc-border-dark);
            background-color: var(--mc-bg-dark);
            padding: 4px;
            max-width: 500px; /* Constrain width */
            margin-left: auto;
            margin-right: auto;
        }

        .nav-slot {
            width: 40px; height: 40px;
            background-color: var(--mc-bg);
            border: 1px solid var(--mc-border-inset-dark);
             box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .nav-slot a {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%; height: 100%;
            text-decoration: none;
        }

        .nav-slot img {
            max-width: 32px; max-height: 32px;
            image-rendering: var(--mc-pixelated);
        }

        .nav-slot.selected {
            border: 2px solid var(--mc-border-light); /* Standard selected hotbar look */
            box-shadow: none; /* Remove inset shadow when selected */
        }

        /* --- Product Details Modal --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.75); /* Dark overlay */
            display: none; /* Hidden by default */
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
             font-family: 'Minecraft', 'Courier New', monospace; /* Ensure font */
        }
        .modal-overlay.active {
            display: flex; /* Show when active */
        }

        .modal-content {
            background-color: var(--mc-bg-dark); /* Use dark panel background */
            border: 3px solid; /* Thicker border for modal */
            border-color: var(--mc-border-light) var(--mc-border-dark) var(--mc-border-dark) var(--mc-border-light);
            box-shadow: 0 0 0 3px var(--mc-border-inset-dark), inset 3px 3px 0px rgba(255, 255, 255, 0.1); /* Outer + inner shadow */
            padding: 20px;
            max-width: 600px; /* Max width for the modal */
            width: 90%;
            display: flex;
            gap: 20px;
            position: relative; /* For close button positioning */
            color: var(--mc-text-light);
        }

        .modal-image-area {
            width: 200px; /* Fixed width for image */
            height: 200px;
            background-color: var(--mc-bg); /* Slot-like background */
            border: 2px solid var(--mc-border-inset-dark);
            box-shadow: inset 2px 2px 0px rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0; /* Prevent shrinking */
        }

        .modal-image-area img {
            max-width: 180px;
            max-height: 180px;
            display: block;
            image-rendering: var(--mc-pixelated); /* Apply pixelation */
        }

        .modal-details-area {
            flex-grow: 1;
            min-width: 0; /* Prevent text overflow issues */
        }

        .modal-title {
            font-size: 20px;
            color: var(--mc-item-name); /* Cyan title */
            margin-bottom: 15px;
            text-shadow: 1px 1px #373737;
        }

        .modal-specs {
            font-size: 14px;
            color: var(--mc-item-spec); /* Gray specs */
            margin-bottom: 10px;
            line-height: 1.5;
        }
        .modal-specs ul {
            padding-left: 15px;
            margin: 5px 0;
            list-style: none;
        }
        .modal-specs li::before {
            content: "• ";
            color: #808080;
        }

        .modal-ench {
            font-size: 14px;
            color: var(--mc-item-ench); /* Magenta enchantments */
            font-style: italic;
            margin-bottom: 15px;
        }

        .modal-price {
            font-size: 18px;
            color: var(--mc-item-price); /* Yellow price */
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 1px 1px #373737;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: auto; /* Push buttons towards bottom if container flexes */
        }

        /* Button Style (reuse add-to-cart style, make general) */
        .mc-button {
            font-family: 'Minecraft', monospace;
            font-size: 14px;
            color: var(--mc-text-light);
            text-shadow: 1px 1px #373737;
            background-color: var(--mc-bg-dark);
            border: 2px solid;
            border-color: var(--mc-border-light) var(--mc-border-dark) var(--mc-border-dark) var(--mc-border-light);
            padding: 8px 16px;
            cursor: pointer;
            text-align: center;
            display: inline-block;
            text-decoration: none; /* For <a> tags */
            flex-grow: 1; /* Make buttons fill space */
        }

        .mc-button:hover {
            background-color: #A0A0A0;
        }
        .mc-button:active {
            background-color: var(--mc-bg); /* Inset look on click */
            border-color: var(--mc-border-dark) var(--mc-border-light) var(--mc-border-light) var(--mc-border-dark);
            box-shadow: inset 1px 1px 0px rgba(0, 0, 0, 0.25), inset -1px -1px 0px rgba(255, 255, 255, 0.5);
            color: var(--mc-text);
            text-shadow: 1px 1px #FFFFFF;
        }
         /* Primary button style (e.g., Buy Now) */
         .mc-button.primary {
            background-color: #559955; /* Greenish tint */
            border-color: #AADD99 var(--mc-border-dark) var(--mc-border-dark) #AADD99;
         }
          .mc-button.primary:hover {
             background-color: #66AA66;
         }


        .modal-close-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: #AA5555; /* Reddish */
            border: 2px solid;
             border-color: #FFAAAA var(--mc-border-dark) var(--mc-border-dark) #FFAAAA;
            color: var(--mc-text-light);
            font-family: 'Minecraft', monospace;
            width: 24px;
            height: 24px;
            line-height: 20px; /* Adjust for visual centering */
            text-align: center;
            cursor: pointer;
            font-size: 14px;
            padding: 0;
             text-shadow: 1px 1px #373737;
        }
        .modal-close-btn:hover {
             background-color: #CC6666;
        }
         .modal-close-btn:active {
            background-color: #884444; /* Darker red */
            border-color: var(--mc-border-dark) #FFAAAA #FFAAAA var(--mc-border-dark);
            box-shadow: inset 1px 1px 0px rgba(0, 0, 0, 0.25);
         }

        /* Product details pop-up (Tooltip) */
        .product-details-tooltip {
            position: absolute; /* Positioned by JS */
            background-color: var(--mc-tooltip-bg);
            border: 2px solid var(--mc-tooltip-border);
            color: var(--mc-text-light);
            padding: 8px;
            max-width: 250px; /* Limit width */
            z-index: 1100; /* Above modal overlay */
            display: none; /* Hidden by default */
            font-size: 12px;
            pointer-events: none; /* Doesn't interfere with mouse */
            line-height: 1.4;
             /* Minecraft tooltip style border */
             box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.8);
        }

        .tooltip-name { color: var(--mc-item-name); margin-bottom: 5px; font-size: 13px; }
        .tooltip-specs { color: var(--mc-item-spec); margin-bottom: 5px;}
        .tooltip-specs ul { padding-left: 10px; margin: 0; list-style: none;}
        .tooltip-specs li::before { content: "• "; color: #808080; }
        .tooltip-ench { color: var(--mc-item-ench); margin-bottom: 5px; font-style: italic; } /* For special features */
        .tooltip-price { color: var(--mc-item-price); margin-top: 8px; font-weight: bold; }

         /* Simple Block Icons (Base64 SVG) - Can be replaced with actual images */
        .icon-wood { background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSIjQTM3QjRBIi8+PHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjOEI2NzNCQiIvPjwvc3ZnPg=='); }
        .icon-stone { background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSIjNzA3MDcwIi8+PHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjODA4MDgwIi8+PC9zdmc+'); }
        .icon-iron { background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSIjQzFDNUM1Ii8+PHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjRDlEOUQ5Ii8+PC9zdmc+'); }
        .icon-gold { background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSIjRkZERTAwIi8+PHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjRkZGRkREIi8+PC9zdmc+'); }
        .icon-diamond { background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSIjNEJERUJFIi8+PHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjOUNGNUYyIi8+PC9zdmc+'); }
        .icon-emerald { background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSIjMDA5OTQwIi8+PHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjMTZDQzVFIi8+PC9zdmc+'); }
        .icon-redstone { background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSIjQzgwMDAwIi8+PHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjRkYwMDAwIi8+PC9zdmc+'); }
        .icon-netherite { background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSIjNDA0MDQwIi8+PHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjNDg0NDQzIi8+PC9zdmc+'); }
        .icon-pc { background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHJlY3Qgd2lkdGg9IjE0IiBoZWlnaHQ9IjEwIiB4PSIxIiB5PSIxIiBmaWxsPSIjNjY2Ii8+PHJlY3Qgd2lkdGg9IjEyIiBoZWlnaHQ9IjgiIHg9IjIiIHk9IjIiIGZpbGw9IiMzMzMiLz48cmVjdCB3aWR0aD0iNiIgaGVpZ2h0PSIyIiB4PSI1IiB5PSIxMyIgZmlsbD0iIzY2NiIvPjwvc3ZnPg=='); }
         /* Icon helper class */
        .item-icon { width: 100%; height: 100%; background-size: cover; image-rendering: pixelated; }

        /* Simple representation of icons for tabs - Replace with actual images */
        .icon-all::before { content: "📦"; } /* Chest */
        .icon-gaming::before { content: "⛏️"; } /* Pickaxe */
        .icon-work::before { content: "📒"; } /* Book */
        .icon-custom::before { content: "🛠️"; } /* Hammer & Wrench */
        .icon-peripheral::before { content: "🖱️"; } /* Mouse */
        .icon-budget::before { content: "🧱"; } /* Brick for budget? */

         /* Responsive */
        @media (max-width: 768px) {
            .inventory-container { flex-direction: column; }
            .inventory-sidebar { width: 100%; border-right: none; border-bottom: 2px solid var(--mc-border-dark); margin-bottom: 0; }
            .inventory-tab.active::before { display: none; } /* Hide marker on mobile */
            .site-title { font-size: 28px; }
            .modal-content { flex-direction: column; align-items: center; max-width: 95%; padding: 15px;}
            .modal-image-area { width: 150px; height: 150px; margin-bottom: 15px;}
            .modal-image-area img { max-width: 130px; max-height: 130px; }
            .modal-title { font-size: 18px; text-align: center; }
            .modal-details-area { width: 100%; text-align: center;}
            .modal-specs { font-size: 13px; }
            .modal-price { font-size: 16px; }
            .modal-buttons { flex-direction: column; width: 80%; margin: 15px auto 0;}
        }
         @media (max-width: 480px) {
            body { padding-top: 48px; } /* Adjust for smaller grass */
            #grass-header { height: 48px; background-size: 24px 24px; border-bottom-width: 3px;}
            .site-title { font-size: 24px; margin-bottom: 20px;}
            .inventory-slot { width: 40px; height: 40px; }
            .inventory-slot img { max-width: 30px; max-height: 30px; }
            .item-price-tag { font-size: 9px; }
            .pc-grid { gap: 5px; }
            .pc-grid-area { padding: 8px; min-height: 250px;}
            .modal-image-area { width: 120px; height: 120px;}
            .modal-image-area img { max-width: 100px; max-height: 100px; }
            .modal-buttons { width: 90%;}
         }

    </style>
</head>
<body>
    <!-- Grass Header -->
    <div id="grass-header"></div>

    <div class="container">
        <h1 class="site-title">BlockTech PCs</h1>

        <div class="inventory-container">
            <!-- Left Sidebar: Categories/Filtering -->
            <div class="inventory-sidebar">
                <div class="search-bar">
                    <div class="search-icon"></div>
                    <input type="text" class="search-input" placeholder="Search items...">
                </div>

                <div class="inventory-tabs">
                    <div class="inventory-tab active" data-category="all">
                        <span class="tab-icon icon-all"></span> All Rigs
                    </div>
                    <div class="inventory-tab" data-category="gaming">
                         <span class="tab-icon icon-gaming"></span> Gaming PCs
                    </div>
                    <div class="inventory-tab" data-category="workstation">
                         <span class="tab-icon icon-work"></span> Workstations
                    </div>
                     <div class="inventory-tab" data-category="budget">
                         <span class="tab-icon icon-budget"></span> Budget Builds
                    </div>
                    <div class="inventory-tab" data-category="custom">
                        <span class="tab-icon icon-custom"></span> Custom Builds
                    </div>
                    <div class="inventory-tab" data-category="peripheral">
                         <span class="tab-icon icon-peripheral"></span> Peripherals
                    </div>
                </div>
            </div>

            <!-- Main Content Area (Grid Only) -->
            <div class="main-inventory">
                 <div class="inventory-header">
                    <div class="inventory-title">Available Rigs & Peripherals</div>
                 </div>

                 <!-- PC Grid (Shop Items) -->
                 <div class="pc-grid-area">
                     <div class="pc-grid" id="pc-grid">
                         <!-- Items will be populated by data below -->
                         <div class="inventory-slot" data-product="gaming-diamond" data-category="gaming">
                             <div class="item-icon icon-diamond"></div>
                             <div class="item-price-tag">$1999</div>
                         </div>
                         <div class="inventory-slot" data-product="workstation-netherite" data-category="workstation">
                             <div class="item-icon icon-netherite"></div>
                             <div class="item-price-tag">$2999</div>
                         </div>
                          <div class="inventory-slot" data-product="budget-iron" data-category="budget gaming">
                              <div class="item-icon icon-iron"></div>
                             <div class="item-price-tag">$999</div>
                         </div>
                         <div class="inventory-slot" data-product="streaming-emerald" data-category="gaming workstation">
                              <div class="item-icon icon-emerald"></div>
                             <div class="item-price-tag">$1699</div>
                         </div>
                         <div class="inventory-slot" data-product="mini-redstone" data-category="budget custom">
                              <div class="item-icon icon-redstone"></div>
                             <div class="item-price-tag">$799</div>
                         </div>
                         <div class="inventory-slot" data-product="highend-gold" data-category="gaming workstation">
                              <div class="item-icon icon-gold"></div> <!-- Maybe gold for 'bling'/high-end -->
                             <div class="item-price-tag">$3499</div>
                         </div>
                          <div class="inventory-slot" data-product="budget-wood" data-category="budget">
                              <div class="item-icon icon-wood"></div>
                             <div class="item-price-tag">$599</div>
                         </div>
                          <div class="inventory-slot" data-product="mouse-pro" data-category="peripheral">
                             <!-- Actual peripheral icon image -->
                              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACWSURBVFhH7daxDYAwEERRBOX/4A+BiAqIkL9VkiCOLkns9FzeNJHf9+uT/WHvrnN3fRzADoC7AKcL0C5AKwACgBbgZQAJwABwN1wAkACsLhwADABWC58ANQDWCt4ARADwCv0BQATAK/MFQATAK3MHQATACswAEAFYBd8BfgVYBX8BfgVYFX8ABQBWwdcAVYCr4gMAVgEvgAEAuQD63gK3/wWk4wAAAABJRU5ErkJggg==" alt="Pro Mouse">
                             <div class="item-price-tag">$79</div>
                         </div>
                          <div class="inventory-slot" data-product="keyboard-mech" data-category="peripheral">
                              <!-- Actual keyboard icon image -->
                              <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEBSURBVFhH7ZYhDsUgEERzzBHEGbjZuwRX8GNeAxfxFkfzc3AzkIgjEEbKwP4SSCYk6YLYBxKkpPl++h6p8T4L/NuA/TYAjwEAAABsARsAPkU7AB9A6wAHgH4AHUACACSADgALAEgAGQB+AZIANsAZgC8AmAAyAEUARQCXARQBFAAUARQBFAEUALTqCgDKADwASAHIAHwA9AGmATSAUgBlAEUAMwBOAPMArADYAmYBPAFYALACYAuYA3AO4AqAGQB3AKcBzAE8AzADYAYACQB7AKAATAEoAPQA+AFEAHwAXAMsAbQCqAHYAbABTAHAAcgD2ABoArQCsAFgAzADAAMANQEOAIoBXAOoAkgBCAEAA+gBsM/0Af7IesQJ76KQAAAAASUVORK5CYII=" alt="Mechanical Keyboard">
                             <div class="item-price-tag">$129</div>
                         </div>
                          <!-- Add more slots/products as needed -->
                     </div>
                 </div>

            </div>
        </div>

        <!-- Hotbar Navigation -->
        <div class="site-navigation">
             <div class="nav-slot selected">
                <a href="#home" title="Home"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAErSURBVFhH7daxCsIwGAbgk7oHc0kPoFukR7B3D8HsAXsP6KEHYQ88BLeiy/gxTppIWybIz/cHJgxhhPnwxz8M5w57/85LzX3lTjwAbADkANIB/AfwLUAagCFABnA+QAlADsAJwBfgA7ACYAVgADgAvADIAQgAcgAjABwAbAAQANgAIgBkAA8AQgAmAEgAHADWAHIAUgByALkAcQCvABQAWgCgACwAUADYAGIBuAAMAJYASADgABACiAAwA5gBlABIAKwAEgBaAL8AbwCWAPUAsABQAbAALALYALIAigAuAEcAQwDfABgAvADYAJwAwAHoAMoATgCeAN4AvAHWAEwAhgDeAFoAkgASACYAlABGALMALQCcADYAvAHuAOAA7ABGAIgAbAAQAGEABIAgAAeALkAcQA8AHgBwA3IBwAG/APYAOgABsAD4y7XoX061GMAAAAASUVORK5CYII=" alt="Home Icon"></a> <!-- Home / Compass -->
            </div>
            <div class="nav-slot">
                <a href="#shop" title="Shop"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADVSURBVFhH7dZBDsMgDAXQU7yFl6BHF3kVXsfb8BZew1u0Fl+QyEAkoI8kSQoGxUN+EJjC9/fDwMxx5l0Xl5kPAE+AjADYAAAB6ABeBdgBIAFQAlgBhAFkAOsAbgAmAFYASADkADkAPgD8ACwAKAC4AJEAZADqgALAAYAFABEAggBGABwAaABQAAIAUgAiAEwAGQDlALYARgDQAJABGAHoAPAApACuAJwAUgCGAEgALIAwgBsAOwBXAHcAIwAjAHgAdACIASYAWAAwA3wA+ALgAbAB+AMQAxAAYACGgH7pB78ANAAaAAGAK8AvACgAsiHjHyqS0B4AAAAASUVORK5CYII=" alt="Shop Icon"></a> <!-- Chest -->
            </div>
            <div class="nav-slot">
                <a href="#about" title="About"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADfSURBVFhH7dYxDgIhEATQEcwJc8KLuwsn8CaewJuwN79kI2wMIfYhsk7jR/JHhH5m72dYZu62K+vPXO4DAAOAEIAZAACADAA7AOwAIACgABgBsAHgBcAOABMAIgBsAA0AMwAKAEoARAA4AGkAxAA8ABQAxgC+AGIAYAAgBeAIQAcAEoALgA0AQwASgAuAIAASAAMAAwAaAGsAMQAIAHkACgAUAAgASADYACIAMQAQAN4AIACUAPQAOAD+AH0AHQA9APsADAAcAOMAeQAnAD4AFACqAIwAUwCGABQAQgASAGQANwDGAAMACwAmAJoARAA7/gH4/eDkAZA89UMLAAAAAElFTkSuQmCC" alt="About Icon"></a> <!-- Sign / Book -->
            </div>
            <div class="nav-slot">
                <a href="#support" title="Support"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFISURBVFhH7ZZBKsNADETX27yFt+COHoVWeQmv4XVw4UbwGjx4Ca/goSjGAIQSkCCRpJvoe9mPhAm+JLP3JkPJpbfp++k3e+68F8B7AEQAIgASAAwAogAyAF8AHgAWAAQA4AAwAEAEIAKAAmAAQALAACABwAAgASAAYACACGAAkAAQAeAAMABAYBwABAAtABAASgDmALAAYABIAKQAmAFgAaACgASADYANACMBXALgBgALYACABYANgACADYAFACQANAANAEIAEABSADAAEgBgADAAIABgADAAEgAgADIAPQBGAJwANACiAEgAZgAIAAgAKIAQABkAACAFkAHwACAB4AAwAHACYAG4ATAAGAMYAPgAYADUAUgAiAHwAyADEAOgAPAB2ACYAWQA7AB0AWgA6AIkAEQAQAFIAIAKAAvAJABkALgAeACAAvwEcAe4AsAAcAQwAiACyAEIAGgD5AEIAdAABAPkAuwAH8KzQ/0m3y9H/C2XQAAAAAElFTkSuQmCC" alt="Support Icon"></a> <!-- Anvil / Wrench -->
            </div>
            <div class="nav-slot">
                <a href="#contact" title="Contact"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACpSURBVFhH7dZBDoAgDERRBb8E/4AfoUSgEBWwL2u+XoW3kFjH3g6t9+c3L5N/p97pBIAZwALAPAAEgBrAFcAJQA3ABMBnAAEACcAN4ARACeAHoAAgBaAEYAbAAsAA8AUQA4gBEAOwAGAAVAAYAF4ARAAcAFAARAAaABQAcQCuAAoAJwBXAEkAGwA+ACgAvADYAPYAKABMAA8ABgACgAAgAkAMAFGAOwAbAFKAjAH8ATQABn20AIAAAAAASUVORK5CYII=" alt="Contact Icon"></a> <!-- Book & Quill -->
            </div>
            <div class="nav-slot">
                <a href="#cart" title="Cart"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEASURBVFhH7ZbRCsIwFEXXPswLOMHL3YUn8CaewJvwHjzZQ3gQb0GTgI8kkQhEGxv1oUBISNNfkyZdfY/u5//0/NydPzcBXAAkACEABgBSACIANgAfAEYAGQB+ABQA9ACgABQABAA9ADMAUAACAEMAigBCABUATABkAIAA4AFgAHACYADgA2ADkAJQArAAwADQAKgAmACYADwAXgDcAQABqAF0AMQATACIAYgASACYAGQACADYASAB0ALoABgCgAFAB4AEQARgAMAAQAOYAQgAjAAYAAgByAHoAOQAUgAEADoAvgBoAEQC2ABwAPAAaAPkA7gBiAGYAPAAeANIAcwATAF0AFwA+ANwAmgBwAFUAGQCiAPwACgA/wB+AYQAT7G/f4A4AAAAASUVORK5CYII=" alt="Cart Icon"></a> <!-- Minecart with Chest -->
            </div>
             <!-- Empty slots for visual spacing -->
             <div class="nav-slot"></div>
             <div class="nav-slot"></div>
             <div class="nav-slot"></div>
        </div>

    </div> <!-- /container -->

    <!-- Tooltip Div (one for all items) -->
    <div class="product-details-tooltip" id="item-tooltip">
        <!-- Content is set by JS -->
    </div>

    <!-- Product Details Modal -->
    <div class="modal-overlay" id="product-modal">
        <div class="modal-content">
            <button class="modal-close-btn" id="modal-close-button">X</button>
            <div class="modal-image-area" id="modal-image">
                <!-- Image set by JS -->
            </div>
            <div class="modal-details-area">
                <h2 class="modal-title" id="modal-title">Product Name</h2>
                <div class="modal-specs" id="modal-specs">
                    <!-- Specs set by JS -->
                </div>
                <div class="modal-ench" id="modal-ench">
                    <!-- Enchantments/Features set by JS -->
                </div>
                <div class="modal-price" id="modal-price">$PRICE</div>
                <div class="modal-buttons">
                    <a href="#" id="modal-buy-button" class="mc-button primary" target="_blank">Buy Now on Shopify</a>
                    <!-- <button class="mc-button" id="modal-close-button-alt">Close</button> -->
                </div>
            </div>
        </div>
    </div>


    <script>
        // --- Product Data ---
        // !! IMPORTANT: Replace placeholders for imageSrc and shopifyUrl !!
        const productData = {
            "gaming-diamond": {
                name: "Diamond Gaming PC",
                icon: "icon-diamond",
                imageSrc: "https://via.placeholder.com/180/4BDDBE/FFFFFF?text=Diamond+PC", // Placeholder Image URL
                category: ["gaming"],
                price: "$1999",
                specs: ["GeForce RTX 5080", "32GB DDR5 RAM", "2TB NVMe SSD", "Liquid Cooled CPU"],
                ench: "Prismarine RGB Lighting",
                shopifyUrl: "https://your-shopify-store.com/products/diamond-pc" // Placeholder Shopify URL
            },
            "workstation-netherite": {
                name: "Netherite Workstation",
                icon: "icon-netherite",
                imageSrc: "https://via.placeholder.com/180/404040/FFFFFF?text=Netherite+WS", // Placeholder Image URL
                category: ["workstation"],
                price: "$2999",
                specs: ["GeForce RTX 5090", "64GB DDR5 RAM", "4TB NVMe SSD", "AMD Threadripper Pro"],
                ench: "Unbreaking Durability Build",
                shopifyUrl: "https://your-shopify-store.com/products/netherite-workstation" // Placeholder Shopify URL
            },
            "budget-iron": {
                name: "Iron Budget Tower",
                icon: "icon-iron",
                imageSrc: "https://via.placeholder.com/180/C1C5C5/000000?text=Iron+PC", // Placeholder Image URL
                category: ["budget", "gaming"],
                price: "$999",
                specs: ["GeForce RTX 4060", "16GB DDR4 RAM", "1TB NVMe SSD", "Intel Core i5"],
                shopifyUrl: "https://your-shopify-store.com/products/iron-pc" // Placeholder Shopify URL
            },
             "streaming-emerald": {
                name: "Emerald Stream Rig",
                icon: "icon-emerald",
                imageSrc: "https://via.placeholder.com/180/009940/FFFFFF?text=Emerald+Rig", // Placeholder Image URL
                category: ["gaming", "workstation"],
                price: "$1699",
                specs: ["GeForce RTX 5070", "32GB DDR5 RAM", "2TB NVMe SSD", "Ryzen 7 CPU"],
                ench: "Built-in Capture Card",
                shopifyUrl: "https://your-shopify-store.com/products/emerald-rig" // Placeholder Shopify URL
            },
            "mini-redstone": {
                name: "Redstone Mini PC",
                icon: "icon-redstone",
                 imageSrc: "https://via.placeholder.com/180/C80000/FFFFFF?text=Redstone+Mini", // Placeholder Image URL
                category: ["budget", "custom"],
                price: "$799",
                specs: ["GeForce RTX 4050", "16GB DDR4 RAM", "1TB NVMe SSD", "Compact ITX Case"],
                shopifyUrl: "https://your-shopify-store.com/products/redstone-mini" // Placeholder Shopify URL
             },
             "highend-gold": {
                name: "Gilded Elite PC",
                icon: "icon-gold",
                imageSrc: "https://via.placeholder.com/180/FFD700/000000?text=Gold+Elite", // Placeholder Image URL
                category: ["gaming", "workstation"],
                price: "$3499",
                specs: ["GeForce RTX 5090 Ti", "128GB DDR5 RAM", "8TB NVMe SSD (RAID)", "Intel Core i9 Extreme"],
                ench: "Custom Gold-Accent Cooling",
                shopifyUrl: "https://your-shopify-store.com/products/gilded-elite" // Placeholder Shopify URL
            },
            "budget-wood": {
                name: "Oak Starter PC",
                icon: "icon-wood",
                imageSrc: "https://via.placeholder.com/180/A37B4A/FFFFFF?text=Oak+Starter", // Placeholder Image URL
                category: ["budget"],
                price: "$599",
                specs: ["Integrated AMD Graphics", "16GB DDR4 RAM", "512GB SATA SSD", "Ryzen 5 APU"],
                shopifyUrl: "https://your-shopify-store.com/products/oak-starter" // Placeholder Shopify URL
            },
            "mouse-pro": {
                name: "Diamond Pro Mouse",
                icon: "placeholder", // Keep icon for grid if no img used there
                imageSrc: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACWSURBVFhH7daxDYAwEERRBOX/4A+BiAqIkL9VkiCOLkns9FzeNJHf9+uT/WHvrnN3fRzADoC7AKcL0C5AKwACgBbgZQAJwABwN1wAkACsLhwADABWC58ANQDWCt4ARADwCv0BQATAK/MFQATAK3MHQATACswAEAFYBd8BfgVYBX8BfgVYFX8ABQBWwdcAVYCr4gMAVgEvgAEAuQD63gK3/wWk4wAAAABJRU5ErkJggg==', // Use grid image for modal too
                category: ["peripheral"],
                price: "$79",
                specs: ["16,000 DPI Sensor", "5 Programmable Buttons", "RGB Illumination", "Lightweight Design"],
                shopifyUrl: "https://your-shopify-store.com/products/diamond-mouse" // Placeholder Shopify URL
            },
            "keyboard-mech": {
                name: "Netherite Mech Keyboard",
                icon: "placeholder",
                imageSrc: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEBSURBVFhH7ZYhDsUgEERzzBHEGbjZuwRX8GNeAxfxFkfzc3AzkIgjEEbKwP4SSCYk6YLYBxKkpPl++h6p8T4L/NuA/TYAjwEAAABsARsAPkU7AB9A6wAHgH4AHUACACSADgALAEgAGQB+AZIANsAZgC8AmAAyAEUARQCXARQBFAAUARQBFAEUALTqCgDKADwASAHIAHwA9AGmATSAUgBlAEUAMwBOAPMArADYAmYBPAFYALACYAuYA3AO4AqAGQB3AKcBzAE8AzADYAYACQB7AKAATAEoAPQA+AFEAHwAXAMsAbQCqAHYAbABTAHAAcgD2ABoArQCsAFgAzADAAMANQEOAIoBXAOoAkgBCAEAA+gBsM/0Af7IesQJ76KQAAAAASUVORK5CYII=', // Use grid image for modal too
                category: ["peripheral"],
                price: "$129",
                specs: ["Hot-swappable Mechanical Switches", "Per-Key RGB Backlighting", "Full N-Key Rollover", "Aluminum Top Plate"],
                ench: "Sound Dampening Foam",
                shopifyUrl: "https://your-shopify-store.com/products/netherite-keyboard" // Placeholder Shopify URL
            },
             // Add other products here...
        };

        // --- DOM Elements ---
        const inventorySlots = document.querySelectorAll('.inventory-slot[data-product]');
        const tooltip = document.getElementById('item-tooltip');
        const tabs = document.querySelectorAll('.inventory-tab');
        const pcGrid = document.getElementById('pc-grid');
        const modalOverlay = document.getElementById('product-modal');
        const modalImage = document.getElementById('modal-image');
        const modalTitle = document.getElementById('modal-title');
        const modalSpecs = document.getElementById('modal-specs');
        const modalEnch = document.getElementById('modal-ench');
        const modalPrice = document.getElementById('modal-price');
        const modalBuyButton = document.getElementById('modal-buy-button');
        const modalCloseButton = document.getElementById('modal-close-button');
        // const modalCloseButtonAlt = document.getElementById('modal-close-button-alt'); // If using second close button

        // --- Tooltip Logic ---
        inventorySlots.forEach(slot => {
            slot.addEventListener('mouseover', (e) => {
                const productId = slot.getAttribute('data-product');
                const data = productData[productId];
                if (!data) return;

                let specsHtml = data.specs ? '<ul>' + data.specs.map(s => `<li>${s}</li>`).join('') + '</ul>' : '';
                let enchHtml = data.ench ? `<div class="tooltip-ench">${data.ench}</div>` : '';

                tooltip.innerHTML = `
                    <div class="tooltip-name">${data.name}</div>
                    <div class="tooltip-specs">${specsHtml}</div>
                    ${enchHtml}
                    <div class="tooltip-price">${data.price}</div>
                `;
                tooltip.style.display = 'block';
                positionTooltip(e);
            });

            slot.addEventListener('mousemove', positionTooltip);

            slot.addEventListener('mouseout', () => {
                tooltip.style.display = 'none';
            });

             // --- Modal Activation Logic ---
            slot.addEventListener('click', () => {
                const productId = slot.getAttribute('data-product');
                const data = productData[productId];
                 if (!data) return;

                // Populate Modal
                modalTitle.textContent = data.name;
                modalPrice.textContent = data.price;

                // Image
                modalImage.innerHTML = ''; // Clear previous
                const img = document.createElement('img');
                img.src = data.imageSrc || 'https://via.placeholder.com/180/888888/FFFFFF?text=No+Image'; // Fallback image
                img.alt = data.name;
                modalImage.appendChild(img);

                // Specs
                 let specsHtml = data.specs ? '<ul>' + data.specs.map(s => `<li>${s}</li>`).join('') + '</ul>' : '<p>Details not available.</p>';
                modalSpecs.innerHTML = specsHtml;

                // Enchantments/Features
                modalEnch.innerHTML = data.ench ? `${data.ench}` : '';
                modalEnch.style.display = data.ench ? 'block' : 'none';

                // Buy Button Link
                modalBuyButton.href = data.shopifyUrl || '#'; // Set link
                if (!data.shopifyUrl) { // Disable if no link provided
                    modalBuyButton.style.opacity = '0.5';
                    modalBuyButton.style.pointerEvents = 'none';
                    modalBuyButton.textContent = 'Not Available';
                } else {
                     modalBuyButton.style.opacity = '1';
                     modalBuyButton.style.pointerEvents = 'auto';
                     modalBuyButton.textContent = 'Buy Now on Shopify';
                }

                // Show Modal
                modalOverlay.classList.add('active');
            });
        });

        function positionTooltip(e) {
             const tooltipWidth = tooltip.offsetWidth;
             const tooltipHeight = tooltip.offsetHeight;
             const margin = 15;
             let left = e.pageX + margin;
             let top = e.pageY + margin;

             if (left + tooltipWidth > window.innerWidth + window.scrollX - margin) {
                 left = e.pageX - tooltipWidth - margin;
             }
             if (top + tooltipHeight > window.innerHeight + window.scrollY - margin) {
                 top = e.pageY - tooltipHeight - margin;
             }
             if (left < window.scrollX + margin) left = window.scrollX + margin;
             if (top < window.scrollY + margin) top = window.scrollY + margin;

            tooltip.style.left = `${left}px`;
            tooltip.style.top = `${top}px`;
        }

        // --- Modal Closing Logic ---
        function closeModal() {
             modalOverlay.classList.remove('active');
        }

        modalCloseButton.addEventListener('click', closeModal);
        // if (modalCloseButtonAlt) modalCloseButtonAlt.addEventListener('click', closeModal); // If using second close button

        modalOverlay.addEventListener('click', (e) => {
            // Close if clicked on the overlay background, not the content
            if (e.target === modalOverlay) {
                closeModal();
            }
        });


        // --- Tab Filtering Logic ---
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const selectedCategory = tab.getAttribute('data-category');

                inventorySlots.forEach(slot => {
                    const itemCategories = productData[slot.getAttribute('data-product')]?.category || [];
                    const matches = selectedCategory === 'all' || itemCategories.includes(selectedCategory);
                    slot.style.display = matches ? 'flex' : 'none';
                });
            });
        });

        // Initial Filter (Show 'all')
        document.querySelector('.inventory-tab.active').click();

    </script>

</body>
</html>