<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aftershock AI Architect</title>
    
    <!-- Fonts: Space Grotesk for headers (Tech feel) + Inter for body (Readability) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Space+Grotesk:wght@400;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Design System & Critique: 
           Avoided standard "Gamer" dark mode. 
           Went for "Laboratory / Clean Room" aesthetic. 
           High contrast black on off-white. Technical, precise, expensive.
        */
        
        :root {
            --bg-color: #F2F2F2;
            --card-bg: #FFFFFF;
            --text-main: #0A0A0A;
            --text-sub: #525252;
            --accent: #FF3B30; /* Industrial Warning Red/Orange - High Energy */
            --accent-hover: #D62F25;
            --border-color: #E5E5E5;
            --tech-line: #CBCBCB;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            cursor: none; /* Custom cursor implementation */
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        h1, h2, h3, .tech-font {
            font-family: 'Space Grotesk', sans-serif;
        }

        .mono {
            font-family: 'Space Mono', monospace;
        }

        /* Custom Cursor */
        #custom-cursor {
            width: 20px;
            height: 20px;
            border: 1.5px solid var(--text-main);
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, background-color 0.2s;
            border-radius: 50%;
            mix-blend-mode: difference;
        }
        
        #custom-cursor.active {
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.2);
            border-color: var(--accent);
        }

        /* Utility Classes */
        .btn-choice {
            transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 0 rgba(0,0,0,0.05);
        }

        .btn-choice:active {
            transform: scale(0.98);
        }

        .btn-choice.selected {
            border-color: var(--text-main);
            background-color: var(--text-main);
            color: white;
        }
        
        .btn-choice.selected svg {
            stroke: white;
        }

        /* Scanline Effect overlay (Subtle AI feel) */
        .scanline {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.02) 50%, rgba(0,0,0,0.02));
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 50;
        }

        /* Typing Cursor Animation */
        .typing-cursor::after {
            content: '_';
            animation: blink 1s step-start infinite;
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        /* Progress Bar */
        .progress-wrapper {
            position: relative;
            height: 2px;
            width: 100%;
            background: #e0e0e0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-enter {
            animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        /* Loader */
        .computing-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
            width: 64px;
            height: 64px;
        }
        .compute-cell {
            background: #ddd;
            transition: background 0.1s;
        }
        .compute-cell.active {
            background: var(--accent);
        }

    </style>
</head>
<body class="antialiased selection:bg-gray-900 selection:text-white">

    <!-- Custom Cursor -->
    <div id="custom-cursor"></div>
    
    <!-- CRT Scanline Aesthetic -->
    <div class="scanline"></div>

    <!-- Sticky Header -->
    <header class="fixed top-0 w-full z-40 bg-white/80 backdrop-blur-md border-b border-gray-200">
        <div class="max-w-md mx-auto px-6 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-3 h-3 bg-black"></div>
                <span class="font-bold tracking-tight text-sm">AFTERSHOCK</span>
            </div>
            <div class="flex items-center gap-2 text-[10px] font-mono text-gray-500 border border-gray-200 px-2 py-1 rounded-full">
                <div class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></div>
                SYSTEM ONLINE
            </div>
        </div>
        <div class="progress-wrapper">
            <div class="progress-fill" id="progress-bar"></div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="pt-24 pb-12 min-h-screen flex flex-col justify-center relative">
        <div class="max-w-md mx-auto px-6 w-full relative z-10" id="container">
            
            <!-- VIEW: LANDING -->
            <div id="view-landing" class="flex flex-col h-[70vh] justify-between">
                <div class="space-y-6 pt-10">
                    <p class="mono text-xs text-gray-400 uppercase tracking-widest">Neural Architecture v3.1</p>
                    <h1 class="text-5xl leading-[0.9] font-bold tracking-tighter">
                        HUMAN ERROR <br>
                        <span class="text-gray-400">DETECTED.</span>
                    </h1>
                    <p class="text-gray-600 text-lg leading-relaxed max-w-[90%]">
                        Stop guessing specs. You don't know what you need. My algorithm does.
                        <br><br>
                        Initiate the sequence to generate your optimal machine architecture.
                    </p>
                </div>
                
                <button onclick="startQuiz()" class="group relative w-full bg-black text-white h-16 overflow-hidden flex items-center justify-between px-6 hover:bg-[#FF3B30] transition-colors duration-300 cursor-pointer-target">
                    <span class="font-mono text-sm uppercase tracking-wider z-10">Initialize Sequence</span>
                    <i data-lucide="arrow-right" class="w-5 h-5 z-10 group-hover:translate-x-1 transition-transform"></i>
                </button>
            </div>

            <!-- VIEW: QUIZ (Dynamic) -->
            <div id="view-quiz" class="hidden">
                <div class="mb-8 h-12">
                    <p class="mono text-xs text-[#FF3B30] mb-2" id="q-index">DATA POINT 01</p>
                    <h2 class="text-2xl font-medium typing-cursor" id="q-text"></h2>
                </div>

                <div id="options-container" class="space-y-3">
                    <!-- Options injected via JS -->
                </div>

                <div class="mt-8 flex justify-between items-center opacity-0 transition-opacity duration-300" id="nav-controls">
                    <button onclick="prevStep()" class="p-2 hover:bg-gray-100 rounded-full transition-colors cursor-pointer-target">
                        <i data-lucide="chevron-left" class="w-6 h-6 text-gray-400"></i>
                    </button>
                    <button onclick="nextStep()" id="next-btn" class="hidden bg-black text-white px-6 py-3 font-mono text-xs uppercase tracking-wider hover:bg-[#FF3B30] transition-colors cursor-pointer-target flex items-center gap-2">
                        Confirm <i data-lucide="corner-down-left" class="w-3 h-3"></i>
                    </button>
                </div>
            </div>

            <!-- VIEW: PROCESSING -->
            <div id="view-processing" class="hidden text-center flex flex-col items-center justify-center h-[60vh]">
                <div class="computing-grid mb-8" id="compute-grid">
                    <!-- Grid generated by JS -->
                </div>
                <h2 class="text-xl font-medium mb-2">Compiling Architecture</h2>
                <div class="mono text-xs text-gray-400 space-y-1" id="log-output">
                    <p>Analyzing latency requirements...</p>
                </div>
            </div>

            <!-- VIEW: RESULT -->
            <div id="view-result" class="hidden">
                <div class="animate-enter">
                    <div class="flex justify-between items-end mb-6">
                        <div>
                            <p class="mono text-xs text-[#FF3B30] mb-1">MATCH CONFIDENCE: 98.4%</p>
                            <h2 class="text-3xl font-bold tracking-tight">THE TEMPEST <span class="font-normal text-gray-400">MAX</span></h2>
                        </div>
                        <div class="text-right">
                            <p class="text-xs text-gray-400 line-through decoration-red-500">$3,499</p>
                            <p class="text-lg font-bold">$3,250</p>
                        </div>
                    </div>

                    <!-- Product Visualization (CSS only representation) -->
                    <div class="aspect-[4/5] bg-gray-100 w-full mb-6 relative overflow-hidden border border-gray-200 group">
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="w-48 h-64 bg-gray-900 relative shadow-2xl transform group-hover:scale-105 transition-transform duration-700">
                                <!-- Case Details -->
                                <div class="absolute top-0 left-0 w-full h-full border-l border-white/10"></div>
                                <!-- RGB Effect -->
                                <div class="absolute top-10 left-4 right-4 h-40 bg-gradient-to-b from-purple-500/20 to-blue-500/20 blur-xl animate-pulse"></div>
                                <div class="absolute bottom-4 right-4 w-2 h-2 bg-[#FF3B30] rounded-full shadow-[0_0_10px_#FF3B30]"></div>
                                
                                <!-- Internal look -->
                                <div class="absolute inset-2 border border-white/10">
                                    <div class="absolute top-4 left-4 w-12 h-12 bg-white/10 backdrop-blur-sm"></div>
                                    <div class="absolute bottom-8 left-4 w-32 h-8 bg-white/5 backdrop-blur-sm border border-white/10"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Specs Overlay -->
                        <div class="absolute bottom-0 left-0 w-full bg-white/90 backdrop-blur-sm p-4 border-t border-gray-200 translate-y-full group-hover:translate-y-0 transition-transform duration-300">
                            <div class="flex justify-between text-xs font-mono">
                                <span>RTX 4080 SUPER</span>
                                <span>RYZEN 7 7800X3D</span>
                            </div>
                        </div>
                    </div>

                    <!-- Logic Feedback -->
                    <div class="bg-gray-50 border border-gray-200 p-5 mb-6 relative">
                        <div class="absolute -top-2 left-4 bg-white px-2 border border-gray-200 text-[10px] font-mono text-gray-500 uppercase">Why I chose this</div>
                        <p class="text-sm leading-relaxed text-gray-600" id="ai-reasoning">
                            Based on your workload in <span class="text-black font-medium">3D Rendering</span> and demand for <span class="text-black font-medium">Ultra FPS</span>, the standard consumer chips would bottleneck your workflow. This config prioritizes VRAM and multi-thread performance while maintaining thermals for your 12h+ sessions.
                        </p>
                    </div>

                    <button class="w-full bg-[#FF3B30] text-white h-14 font-medium hover:bg-black transition-colors duration-300 mb-4 cursor-pointer-target">
                        BUILD THIS CONFIGURATION
                    </button>
                    
                    <button onclick="location.reload()" class="w-full text-xs font-mono text-gray-400 hover:text-black uppercase tracking-wide text-center py-2 cursor-pointer-target">
                        REJECT & RECALIBRATE
                    </button>
                </div>
            </div>

        </div>
    </main>

    <!-- Interaction Sound Placeholder (Audio Context setup required for real implementation) -->
    <script>
        /* 
         * STATE MANAGEMENT 
         */
        const state = {
            step: 0,
            answers: {},
            userName: ''
        };

        /* 
         * CONTENT DATA
         * Critique: Questions are concise. No fluff. Technical.
         */
        const quizData = [
            {
                id: 'usage',
                question: "Define primary system objective.",
                options: [
                    { label: "Competitive Gaming", sub: "Max FPS, low latency", icon: "crosshair" },
                    { label: "Professional Workstation", sub: "Rendering, compiling, CAD", icon: "cpu" },
                    { label: "Hybrid Operations", sub: "Day trading + Night raiding", icon: "layers" }
                ]
            },
            {
                id: 'specifics_game',
                condition: (s) => s.answers.usage.includes('Gaming'),
                question: "Visual fidelity requirements?",
                options: [
                    { label: "Performance Priority", sub: "1080p / 360Hz+", icon: "zap" },
                    { label: "Visual Immersion", sub: "4K / Ray Tracing / Ultra", icon: "eye" }
                ]
            },
            {
                id: 'specifics_work',
                condition: (s) => s.answers.usage.includes('Workstation') || s.answers.usage.includes('Hybrid'),
                question: "Identify heavy-load workflow.",
                options: [
                    { label: "Video/3D Production", sub: "Adobe, Blender, UE5", icon: "film" },
                    { label: "Data & Engineering", sub: "Coding, Sims, VMs", icon: "server" },
                    { label: "Standard Office", sub: "Excel, Browser, Meetings", icon: "coffee" }
                ]
            },
            {
                id: 'aesthetic',
                question: "Chassis acoustic & visual profile.",
                options: [
                    { label: "Stealth Operator", sub: "No RGB. Silent. Matte Black.", icon: "moon" },
                    { label: "Showcase Centerpiece", sub: "Glass. Full RGB. Liquid.", icon: "aperture" }
                ]
            }
        ];

        let filteredQuestions = [];

        /* 
         * INITIALIZATION 
         */
        lucide.createIcons();

        // Cursor Logic
        const cursor = document.getElementById('custom-cursor');
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });

        // Add hover effect to specific elements
        document.addEventListener('mouseover', (e) => {
            if (e.target.closest('.cursor-pointer-target')) {
                cursor.classList.add('active');
            }
        });
        document.addEventListener('mouseout', (e) => {
            if (e.target.closest('.cursor-pointer-target')) {
                cursor.classList.remove('active');
            }
        });

        function startQuiz() {
            // Play simulated sound (visual feedback)
            document.body.classList.add('bg-gray-100');
            setTimeout(() => document.body.classList.remove('bg-gray-100'), 100);

            document.getElementById('view-landing').classList.add('hidden');
            document.getElementById('view-quiz').classList.remove('hidden');
            
            // Filter questions based on initial logic (simple pass initially)
            filteredQuestions = quizData; // In complex app, filter here
            loadQuestion(0);
        }

        function loadQuestion(index) {
            // Skip logic
            if(filteredQuestions[index].condition && !filteredQuestions[index].condition(state)) {
                // Logic jump
                if (index + 1 < filteredQuestions.length) {
                    loadQuestion(index + 1);
                    return;
                } else {
                    finishQuiz();
                    return;
                }
            }

            state.step = index;
            const q = filteredQuestions[index];
            
            // Update UI
            const progress = ((index) / filteredQuestions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            
            const qIndexEl = document.getElementById('q-index');
            qIndexEl.innerText = `DATA POINT 0${index + 1} // ${q.id.toUpperCase()}`;
            
            const qTextEl = document.getElementById('q-text');
            // Typewriter effect reset
            qTextEl.innerText = "";
            typeWriter(q.question, qTextEl);

            // Render Options
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            
            q.options.forEach((opt, i) => {
                const btn = document.createElement('div');
                btn.className = 'btn-choice cursor-pointer-target bg-white p-4 rounded-sm flex items-center gap-4 cursor-pointer opacity-0 translate-y-4';
                btn.style.animation = `fadeInUp 0.3s forwards ${i * 0.1}s`;
                
                btn.innerHTML = `
                    <div class="p-2 bg-gray-50 rounded border border-gray-100">
                        <i data-lucide="${opt.icon}" class="w-5 h-5 text-gray-400 transition-colors"></i>
                    </div>
                    <div class="flex-1">
                        <div class="font-medium text-sm">${opt.label}</div>
                        <div class="text-xs text-gray-500 mt-0.5">${opt.sub}</div>
                    </div>
                    <div class="radio-circle w-4 h-4 rounded-full border border-gray-300 flex items-center justify-center">
                        <div class="w-2 h-2 bg-white rounded-full opacity-0 transition-opacity"></div>
                    </div>
                `;

                btn.onclick = () => selectOption(btn, q.id, opt.label);
                container.appendChild(btn);
            });
            
            lucide.createIcons();
            document.getElementById('nav-controls').style.opacity = '0';
            document.getElementById('next-btn').classList.add('hidden');
        }

        function typeWriter(text, element) {
            let i = 0;
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, 30); // Typing speed
                }
            }
            type();
        }

        function selectOption(el, questionId, value) {
            // Visual selection
            document.querySelectorAll('.btn-choice').forEach(b => {
                b.classList.remove('selected');
                b.querySelector('.radio-circle').classList.remove('bg-black', 'border-black');
                b.querySelector('.radio-circle div').classList.add('opacity-0');
            });
            
            el.classList.add('selected');
            el.querySelector('.radio-circle').classList.add('bg-black', 'border-black');
            el.querySelector('.radio-circle div').classList.remove('opacity-0');

            // Save state
            state.answers[questionId] = value;

            // Show Nav
            const nav = document.getElementById('nav-controls');
            nav.classList.remove('opacity-0');
            
            // Auto advance logic delay for better UX
            setTimeout(() => {
                nextStep();
            }, 400);
        }

        function nextStep() {
            if (state.step + 1 < filteredQuestions.length) {
                loadQuestion(state.step + 1);
            } else {
                finishQuiz();
            }
        }

        function prevStep() {
            if (state.step > 0) {
                // Logic needed to find previous valid question in real app
                loadQuestion(state.step - 1);
            } else {
                document.getElementById('view-quiz').classList.add('hidden');
                document.getElementById('view-landing').classList.remove('hidden');
            }
        }

        function finishQuiz() {
            document.getElementById('view-quiz').classList.add('hidden');
            document.getElementById('view-processing').classList.remove('hidden');
            
            // Run Calculation Animation
            const grid = document.getElementById('compute-grid');
            for(let i=0; i<16; i++) {
                const cell = document.createElement('div');
                cell.className = 'compute-cell';
                grid.appendChild(cell);
            }

            let logLines = [
                "Parsing workflow heuristics...",
                "Calculating thermal headroom...",
                "Indexing GPU availability...",
                "Checking compatibility...",
                "Optimizing cost-to-performance ratio..."
            ];
            
            const logEl = document.getElementById('log-output');

            // Randomize grid flickering
            const interval = setInterval(() => {
                const cells = document.querySelectorAll('.compute-cell');
                cells.forEach(c => c.classList.remove('active'));
                const rand = Math.floor(Math.random() * cells.length);
                cells[rand].classList.add('active');
            }, 100);

            // Cycle text
            let lineIdx = 0;
            const textInterval = setInterval(() => {
                if(lineIdx < logLines.length) {
                    logEl.innerHTML += `<p>${logLines[lineIdx]}</p>`;
                    lineIdx++;
                }
            }, 600);

            // Finish
            setTimeout(() => {
                clearInterval(interval);
                clearInterval(textInterval);
                showResult();
            }, 3500);
        }

        function showResult() {
            document.getElementById('view-processing').classList.add('hidden');
            document.getElementById('view-result').classList.remove('hidden');
            
            // Update dynamic text based on choices
            const reasoning = document.getElementById('ai-reasoning');
            let reasonText = "Configuration optimized for ";
            if(state.answers.usage) reasonText += `<span class="text-black font-medium">${state.answers.usage}</span> protocols. `;
            if(state.answers.aesthetic) reasonText += `Enclosure selected for <span class="text-black font-medium">${state.answers.aesthetic}</span> preferences. `;
            reasonText += "Thermal capacity adjusted for sustained load.";
            
            reasoning.innerHTML = reasonText;
            
            document.getElementById('progress-bar').style.width = '100%';
            document.getElementById('progress-bar').style.backgroundColor = '#000';
        }

    </script>
</body>
</html>